/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screen_screen/ScreenViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

ScreenViewBase::ScreenViewBase() :
    buttonCallback(this, &ScreenViewBase::buttonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUND_ID));
    add(background);

    awg.setPosition(-143, 81, 124, 54);
    awg.setColor(touchgfx::Color::getColorFromRGB(225, 231, 250));
    awg.setLinespacing(0);
    awg.setTypedText(touchgfx::TypedText(T___SINGLEUSE_Q2DI));
    add(awg);

    login.setXY(176, 254);
    login.setBitmaps(touchgfx::Bitmap(BITMAP_GLASS_THEME_IMAGES_WIDGETS_BUTTON_ICON_ROUND_TINY_FILL_NORMAL_ID), touchgfx::Bitmap(BITMAP_GLASS_THEME_IMAGES_WIDGETS_BUTTON_ICON_ROUND_TINY_FILL_PRESSED_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_ARROW_FORWARD_IOS_25_25_E8F6FB_SVG_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_ARROW_FORWARD_IOS_25_25_E8F6FB_SVG_ID));
    login.setIconXY(55, 46);
    login.setAction(buttonCallback);
    add(login);

    circle.setPosition(200, 272, 80, 80);
    circle.setCenter(40, 40);
    circle.setRadius(34.4f);
    circle.setLineWidth(5);
    circle.setArc(0, 180);
    circle.setCapPrecision(90);
    circlePainter.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    circle.setPainter(circlePainter);
    add(circle);
}

ScreenViewBase::~ScreenViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void ScreenViewBase::setupScreen()
{
    transitionBegins();
}

void ScreenViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &login)
    {
        //Interactionwait
        //When login clicked change screen to Screen5
        //Go to Screen5 with screen transition towards North
        application().gotoScreen5ScreenCoverTransitionNorth();
    }
}

void ScreenViewBase::transitionBegins()
{
    //Interaction1
    //When screen transition begins move awg
    //Move awg to x:178, y:82 with CubicOut easing in 750 ms (45 Ticks)
    awg.clearMoveAnimationEndedAction();
    awg.startMoveAnimation(178, 82, 45, touchgfx::EasingEquations::cubicEaseOut, touchgfx::EasingEquations::cubicEaseOut);

    //Interaction2
    //When screen transition begins move login
    //Move login to x:176, y:160 with CubicOut easing in 750 ms (45 Ticks)
    login.clearMoveAnimationEndedAction();
    login.startMoveAnimation(176, 160, 45, touchgfx::EasingEquations::cubicEaseOut, touchgfx::EasingEquations::cubicEaseOut);

    //Interaction3
    //When screen transition begins move circle
    //Move circle to x:202, y:178 with CubicOut easing in 750 ms (45 Ticks)
    circle.clearMoveAnimationEndedAction();
    circle.startMoveAnimation(202, 178, 45, touchgfx::EasingEquations::cubicEaseOut, touchgfx::EasingEquations::cubicEaseOut);
}
